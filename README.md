# 도서 관리 시스템

## 개요

이 프로젝트는 Spring Boot를 백엔드로, React를 프론트엔드로 사용하여 개발된 도서 관리 시스템입니다. 데이터 관리는 Oracle Database 19c를 사용하며, 애플리케이션은 Docker로 컨테이너화되어 Nginx를 리버스 프록시로 사용합니다. UI는 Material-UI 라이브러리를 사용하여 구현되었으며, 백엔드는 Spring Security와 JWT를 통해 보안이 강화되었습니다.

### 주요 기능

- **사용자 인증**: 사용자는 회원가입, 로그인, 계정 관리를 할 수 있습니다. 인증은 Spring Security와 JWT를 사용해 보안이 강화되었습니다.
- **관리자 기능**: 관리자는 도서 추가, 삭제, 수정, 사용자 삭제, 모든 사용자의 대출 내역 조회 등의 기능을 사용할 수 있습니다.
- **사용자 기능**: 사용자는 자신의 대출 현황, 대출 내역을 확인하고 개인 정보를 수정할 수 있습니다.
- **역할 기반 접근 제어**: 관리자는 특정 기능(도서 관리, 대출 내역 조회 등)에 대한 접근 권한이 있습니다.
- **반응형 디자인**: 애플리케이션은 Material-UI를 사용하여 반응형으로 설계되었으며, 사용자가 편리하게 이용할 수 있습니다.
- **HTTPS 지원**: DuckDNS를 통해 SSL 인증서를 설정하여 HTTPS를 지원합니다.

### 기술 스택

- **프론트엔드**: React, Material-UI
- **백엔드**: Spring Boot, REST API, MyBatis
- **데이터베이스**: Oracle Database 19c
- **보안**: Spring Security, JWT
- **프록시**: Nginx
- **컨테이너화**: Docker
- **DNS**: DuckDNS

### 프로젝트 기간

- **개발 기간**: 2024년 7월 29일 ~ 2024년 8월 13일

## 프로젝트 구조

- **frontend/**: React 애플리케이션 코드로, Material-UI를 사용한 사용자 인터페이스를 포함합니다.
- **backend/**: Spring Boot 애플리케이션으로, REST API와 보안 설정, MyBatis를 통한 데이터베이스 통합을 포함합니다.
- **nginx/**: Nginx 리버스 프록시 설정 파일.
- **certs/**: HTTPS 지원을 위한 SSL 인증서.

## 브랜치 전략

- **main**: 당일 작업이 완료된 기능을 포함한 프로젝트의 프로토타입 상태를 저장합니다.
- **deploy**: 배포를 위한 브랜치로, 안정적이고 프로덕션 준비가 된 코드를 포함합니다.

## API 엔드포인트

백엔드는 JWT 인증을 통해 보호된 여러 REST API 엔드포인트를 제공합니다. 다음은 몇 가지 예시입니다:

- **사용자 관리**:
  - `POST /api/user`: 새로운 사용자 가입
  - `POST /auth/login`: 로그인 및 JWT 토큰 발급
  - `GET /api/user`: 현재 사용자의 프로필 조회 (인증 필요)

- **도서 관리** (관리자 전용):
  - `POST /api/book`: 새로운 도서 추가
  - `DELETE /api/book`:스트링 쿼리의 ID로 도서 삭제
  - `PUT /api/book`: 도서 정보 수정

## 보안

- **인증**: API 엔드포인트는 JWT 토큰을 통해 보호됩니다. 사용자는 로그인 후 토큰을 발급받아야 하며, 해당 토큰의 정보를 기반으로 유저 권한이 필요한 행위를 사용 가능합니다.
- **권한 부여**: 역할 기반 접근 제어가 구현되어 있어, 관리자만 특정 작업을 수행할 수 있습니다, 더 강력한 제한이 필요할시 jwt토큰의 권한을 참조하여 메인페이지로 리다이렉트 할수 있습니다.

## 배포

이 애플리케이션은 Docker 컨테이너를 사용하여 배포되며, 다음과 같은 서비스를 포함합니다:

- **백엔드**: 8282 포트에서 API 제공.
- **프론트엔드**: Nginx를 통해 80 및 443 포트(HTTPS)에서 제공.
- **Nginx**: 리버스 프록시 역할을 하여 프론트엔드 및 백엔드 서비스로 요청을 라우팅.
- **Certbot**: SSL 인증서의 자동 갱신.
